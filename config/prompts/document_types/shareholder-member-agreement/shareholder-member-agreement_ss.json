{
  "title": "Shareholder/Member Agreement Extraction",
  "type": "object",
  "properties": {
    "contract_name": {
      "type": "string",
      "description": "The name of the agreement, e.g., 'Shareholder Agreement for [Company Name]'."
    },
    "effective_date": {
      "type": "string",
      "format": "date",
      "description": "The date the agreement was executed or became effective."
    },
    "parties": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "role": {
            "type": "string",
            "enum": ["Shareholder", "Member", "Company"]
          }
        },
        "required": ["name", "role"]
      }
    },
    "shareholder_agreement_details": {
      "type": "object",
      "properties": {
        "transfer_restrictions": {
          "type": "string",
          "description": "A summary of the restrictions on selling or transferring shares."
        },
        "right_of_first_refusal_rofr": {
          "type": "string",
          "description": "Summary of the ROFR clause, if present (e.g., 'Company has 30 days to match any bona fide offer')."
        },
        "drag_along_rights": {
          "type": "string",
          "description": "Summary of the drag-along provision, specifying the trigger threshold (e.g., 'Majority shareholders can force minority to sell')."
        },
        "tag_along_rights": {
          "type": "string",
          "description": "Summary of the tag-along provision, allowing minority shareholders to join a sale."
        },
        "buy_sell_triggers": {
          "type": "array",
          "items": { "type": "string" },
          "description": "A list of events that trigger the buy-sell provisions (e.g., 'Death', 'Disability', 'Termination of Employment', 'Divorce')."
        },
        "valuation_method": {
          "type": "string",
          "description": "How the share price is determined for a buyout (e.g., 'Annual appraisal', 'Book value', 'Formula based on earnings')."
        }
      }
    },
    "discovered_entities": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "entity_name": { "type": "string" },
          "entity_value": { "type": "string" },
          "context_summary": { "type": "string" }
        }
      }
    }
  },
  "required": ["contract_name", "effective_date", "parties"]
}